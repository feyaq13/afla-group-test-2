{"version":3,"sources":["scripts.js"],"names":["window","onload","series","chart","name","cssClass","visible","data","tr","document","createElement","td","chartFactory","Highcharts","title","text","subtitle","yAxis","xAxis","accessibility","rangeDescription","legend","enabled","plotOptions","label","connectorAllowed","pointStart","responsive","rules","condition","maxWidth","chartOptions","layout","align","verticalAlign","classList","add","appendChild","colSpan","table","querySelector","addDecimalSeparators","rawNumber","Number","parseInt","toLocaleString","useGrouping","forEach","record","today","yesterday","week","tableRow","_record","tableNameHeader","innerText","tableDataCurrentDay","tableDataYesterday","tableDataPercentageDeviation","percentChange","toFixed","tableDataWeekDay","addEventListener","e","target","closest","console","dir","getElementsByClassName","chard"],"mappings":"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","file":"scripts.02e90603.js","sourceRoot":"../src","sourcesContent":["window.onload = () => {\n  const series = [\n    {\n      name: 'Выручка',\n      cssClass: 'revenue',\n      visible: false,\n      data: [\n        500521,\n        480521,\n        480521,\n        620999,\n        340559,\n        480521,\n        340559,\n        340559,\n      ],\n    },\n    {\n      name: 'Наличные',\n      cssClass: 'cash',\n      visible: false,\n      data: [\n        300000,\n        300000,\n        300000,\n        300000,\n        300000,\n        300000,\n        300000,\n        300000,\n      ],\n    },\n    {\n      name: 'Безналичный расчет',\n      cssClass: 'cashless',\n      visible: false,\n      data: [\n        100000,\n        100000,\n        100000,\n        100000,\n        100000,\n        100000,\n        100000,\n        100000,\n      ],\n    },\n    {\n      name: 'Кредитные карты',\n      cssClass: 'credit',\n      visible: false,\n      data: [\n        100521,\n        100521,\n        100521,\n        100521,\n        100521,\n        100521,\n        100521,\n        100521,\n      ],\n    },\n    {\n      name: 'Средний чек, руб',\n      cssClass: 'average-check',\n      visible: false,\n      data: [\n        1300,\n        900,\n        900,\n        900,\n        900,\n        900,\n        900,\n        900,\n      ],\n    },\n    {\n      name: 'Средний гость, руб',\n      cssClass: 'average-guest',\n      visible: false,\n      data: [\n        1200,\n        800,\n        800,\n        800,\n        800,\n        800,\n        800,\n        800,\n      ],\n    },\n    {\n      name: 'Удаление из чека (после оплаты), руб',\n      cssClass: 'deletion-from-check',\n      visible: false,\n      data: [\n        1000,\n        1100,\n        900,\n        900,\n        900,\n        900,\n        900,\n        900,\n      ],\n    },\n    {\n      name: 'Удаление из счета (до оплаты), руб',\n      cssClass: 'deletion-from-account',\n      visible: false,\n      data: [\n        1300,\n        1300,\n        900,\n        900,\n        900,\n        900,\n        900,\n        900,\n      ],\n    },\n    {\n      name: 'Количество чеков',\n      cssClass: 'number-of-checks',\n      visible: false,\n      data: [\n        34,\n        36,\n        34,\n        34,\n        34,\n        34,\n        34,\n        34,\n      ],\n    },\n    {\n      name: 'Количество гостей',\n      cssClass: 'number-of-guests',\n      visible: false,\n      data: [\n        34,\n        36,\n        32,\n        32,\n        32,\n        32,\n        32,\n        32,\n      ],\n    },\n  ];\n\n  let chart;\n\n  const tr = document.createElement('tr');\n  const td = document.createElement('td');\n  tr.classList.add('revenue-chart');\n  tr.appendChild(td);\n  td.colSpan = 5;\n\n  chartFactory();\n\n  function chartFactory() {\n    chart = Highcharts.chart(td, {\n      title: {\n        text: 'Название'\n      },\n\n      subtitle: {\n        text: 'Подпись'\n      },\n\n      yAxis: {\n        title: {\n          text: 'Number of'\n        }\n      },\n\n      xAxis: {\n        accessibility: {\n          rangeDescription: 'Range: 1 to 7'\n        }\n      },\n\n      series,\n      legend: {\n        enabled: false,\n      },\n\n      plotOptions: {\n        series: {\n          label: {\n            connectorAllowed: false\n          },\n          pointStart: 1\n        }\n      },\n\n      responsive: {\n        rules: [{\n          condition: {\n            maxWidth: 300,\n          },\n          chartOptions: {\n            legend: {\n              layout: 'horizontal',\n              align: 'center',\n              verticalAlign: 'bottom'\n            }\n          }\n        }]\n      }\n    })\n  }\n\n  const table = document.querySelector('table');\n  table.appendChild(tr);\n\n  series.forEach(record => {\n    const [today, yesterday, three, four, five, six, week] = record.data;\n\n    const tableRow = document.createElement('tr');\n    tableRow.classList.add(record.cssClass);\n    tableRow._record = record;\n    table.appendChild(tableRow);\n\n    const tableNameHeader = document.createElement('th');\n    tableNameHeader.innerText = record.name;\n    tableRow.appendChild(tableNameHeader);\n\n    const tableDataCurrentDay = document.createElement('td');\n    tableDataCurrentDay.classList.add('current-day');\n    tableDataCurrentDay.innerText = addDecimalSeparators(today);\n    tableRow.appendChild(tableDataCurrentDay);\n\n    const tableDataYesterday = document.createElement('td');\n    tableDataYesterday.innerText = addDecimalSeparators(yesterday);\n    tableRow.appendChild(tableDataYesterday);\n\n    const tableDataPercentageDeviation = document.createElement('td');\n    tableDataPercentageDeviation.classList.add('percentage-of-deviation');\n\n    // const percentChange = 100 - (yesterday / today * 100);\n    const percentChange = (today * 100) / week - 100;\n\n    if (percentChange < 0) {\n      tableDataPercentageDeviation.classList.add('negative');\n    } else if (percentChange > 0) {\n      tableDataPercentageDeviation.classList.add('positive');\n    }\n\n    tableDataPercentageDeviation.innerText = percentChange.toFixed(0) + '%';\n    tableRow.appendChild(tableDataPercentageDeviation);\n\n    const tableDataWeekDay = document.createElement('td');\n    tableDataWeekDay.innerText = addDecimalSeparators(week);\n    tableRow.appendChild(tableDataWeekDay);\n  });\n\ntable.addEventListener('click', (e) => {\n    const tableRow = e.target.closest('tr');\n    let currentVisible = null;\n    tableRow._record.visible = true;\n    currentVisible = tableRow._record;\n    chartFactory();\n    console.dir(e.target.closest('tr'));\n});\n\n  function addDecimalSeparators(rawNumber) {\n    return Number.parseInt(rawNumber).toLocaleString('ru-RU', {useGrouping: true});\n  }\n\n  const rowRevenue = document.getElementsByClassName('revenue')[0];\n\n  // rowRevenue.addEventListener('click', function (e) {\n  //     e.currentTarget.nextElementSibling.classList.toggle('visible');\n  // });\n\n  window.chard = chart;\n};\n"]}